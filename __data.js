window.__sveltekit_data = (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H){return {type:q,nodes:[r,r,{type:q,data:{page:"homepage",fields:{overview:"Web development and data visualization for mission-driven orgs. HTML, CSS, JavaScript; Svelte, Vue.js; D3.js, Mapbox; NodeJS, AWS, Azure, Google.",body:"\u003Cp\u003Eüëãüèª Hello. I am a web developer specializing in performance, accessibility, and data visualization. I work full-time for the \u003Ca href=\"https:\u002F\u002Fwww.ushmm.org\"\u003EUS Holocaust Memorial Museum\u003C\u002Fa\u003E but am occasionally available for side projects.\u003C\u002Fp\u003E\n",featuredBlogPosts:[{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"2nuEmV2KmDxbfRjMoUJbJm",type:b,createdAt:"2024-01-02T16:09:56.795Z",updatedAt:"2024-01-03T14:42:43.006Z",environment:{sys:{id:e,type:a,linkType:f}},revision:15,contentType:{sys:{type:a,linkType:h,id:s}},locale:g},fields:{authors:[{sys:{type:a,linkType:b,id:l}}],title:"2023 in Review: Embracing Subgrid, \u003Cdialog\u003E, and Container Queries",subtitle:"What's next? Web components, okclh colorspace, and auto image sizes",datePublished:"2024-01-02",body:"Here are some of the features I reached for without hesitation in 2023. It was a good year for front-end web development. Major browsers have been implementing new features at a decent pace, semantic HTML elements with native methods have had some big wins, and CSS is exploding with good new syntax and features. \n\nSome of these are truly new; some are just new to me. \n\n## The dialog element\nOther items on this list may be more exciting, but none saved me as much time or headache as the native HTML `\u003Cdialog\u003E`. Browser support is about 96%, and there is a [polyfill from Google](https:\u002F\u002Fgithub.com\u002FGoogleChrome\u002Fdialog-polyfill) that works if you need to support others. It essentially creates a pop-up with built-in open and close methods. It opens on the top layer and it can be opened as modal, meaning it traps keyboard focus and renders the rest of the document below it inert. It takes a little bit of work to confirm that it's fully accessible, but compared to writing your own JavaScript-heavy component, it's a huge win.\n\nI used it a lot in the redesign of the US Holocaust Memorial Museum's Collections Search detail pages.\n\n\u003Cfigure class=\"half\"\u003E\n\n  ![dialog element](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F3ukp1yUZQgaygtQ9Po4fhQ\u002Ffd12284b5f291102caf81560451f8b38\u002FScreenshot_2023-12-31_at_8.15.35_AM.png)\n  \u003Cfigcaption\u003E\n    A dialog element with form alerts users if their browser is out of date.\n  \u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\nCheck out the [MDN article](https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTML\u002FElement\u002Fdialog) on it‚Äîthere is more to it, including built-in ways to return form data to the main document.\n\n## Container units and container queries   \nNow this one truly is exciting. The features front-end devs had been waiting for finally landed in all browsers in 2023 and is changing how we can design and build components: on the basis of their container's size rather than the container of the whole viewport. [I wrote about it](https:\u002F\u002Fosterman.io\u002Fcontent\u002Fcss-container-queries-are-here\u002F) earlier in the year and won't repeat the details here. I think developers are still discovering all the use cases for container queries and units. As Chris Coyier recently observed, [\"every container queries demo is a card\"](https:\u002F\u002Fchriscoyier.net\u002F2023\u002F12\u002F27\u002Fevery-container-queries-demo-is-a-card\u002F)‚Äîand indeed that's how I've used them!. Perhaps 2024 will see that expand into new areas.\n\nIn 2023, I put container queries to use in the museum's reimagining of the [History Unfolded](https:\u002F\u002Fnewspapers.ushmm.org\u002F) website and refreshing of the [Experiencing HIstory homepage](https:\u002F\u002Fperspectives.ushmm.org\u002F).\n\n## Summary \u002F details\nThe `\u003Csummary\u003E` and `\u003Cdetails\u003E` elements are not new but they appeared a lot in my work this past year. At base they are a semantic, browser-native way to show and hide text without having to worry about the event handlers or accessibility. The native UI is simple, like this:\n\n\u003Cdetails\u003E\nLorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur reiciendis quas rem corporis animi inventore optio blanditiis nihil rerum dolorem?\n\u003C\u002Fdetails\u003E\n\nWith some CSS and JavaScript flourishes they can be animated and styled however they need to be. I made good use of them in the [Collections Search site](https:\u002F\u002Fcollections.ushmm.org); the refactored [main museum site](https:\u002F\u002Fwww.ushmm.org) uses styled and animated summary \u002F details to pull off the accordion UI of the secondary section navigation menus.\n\n\u003Cfigure\u003E\n\n  ![summary details](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F3L8AOBH8csnamE0erK5OKR\u002F0585e23e93b5216655b06b52b04761a6\u002FScreenshot_2023-12-31_at_8.24.10_AM.png)\n  \u003Cfigcaption\u003E\n    The expandable sections of the museum's secondary navigation components are stylized summary\u002Fdetails elements.\n  \u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\n## Subgrid\nI'd bumped into the use case for subgrid many times before finally wrapping my head around it in 2023. Here's the situation: you have a grid layout to place, say, article summaries across the page. The summaries have a photo, title, short blurb, and call to action link. The main grid layout ensures that the summaries flow in an intrinsically responsive way into rows and columns depending on the screen size. That's nice, but some article titles are one line while others are three; some blurbs are long while others are short. The sections within each article summary (each grid cell) don't line up with each other. It looks off.\n\nI used to mitigate the issue using flexbox to distribute the empty space in each subsection in a balanced way, but without subgrid there is no way (without heavy-handed JavaScript and resize observers) to make the length of one article's blurb affect the space reserved for the others. That's what subgrid does: it allows grid items to have grid tracks that are defined by the parent grid.\n\nCheck out the [MDN subgrid article](https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Grid_Layout\u002FSubgrid) for more. It took me some time to understand that the number of grid tracks for the main grid needs to equal the total number of subtracks. The children of the main grid are then set to span multiple tracks. My initial assumption was that I'd be dividing main tracks into subtracks when in fact it's more like grouping subtracks into main ones.\n\n\u003Cdiv class=\"fx fx-wrap ai-e\"\u003E\n\u003Cfigure class=\"half\"\u003E\n\n  ![cards with subgrid](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F540hhqHTMevmIJuG6AU7cL\u002F083e2e844a6ad1a4a8792b73429d6fd8\u002FScreenshot_2023-12-31_at_8.19.58_AM.png)\n  \u003Cfigcaption\u003E\n    Content cards with subgrid to align the sections of each grid item.\n  \u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\n\u003Cfigure class=\"half\"\u003E\n\n  ![cards without subgrid](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F4hVWlRybr4iXs81cglrDBm\u002F234e420290d422d87025621f8193f877\u002FScreenshot_2023-12-31_at_8.21.59_AM.png)\n  \u003Cfigcaption\u003E\n    Without subgrid, the sections of each grid item are misaligned.\n  \u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\n## My hopes for 2024\nHere are some of the features I hope to use in 2024 that I have not yet\n\n### Web components\nMy work's websites span a number of different tech stacks. The newest is a Nuxt\u002FVue build with Contentful for the headless CMS. There's a Ruby on Rails site and several Laravel sites. We're working to consolidate the design language across sites, which is good, but the code isn't portable from one to another. Web components could help with that. Some of our tech stacks are old enough that using web components might trip things up, but in theory web components would make framework-agnostic elements that we could use across our sites.\n\n### `okclh` colorspace\nBrowser support for `okclh()` is at 88% based on global usage. That's not quite high enough to use without a fallback, but I hope 2024 is the year I get to use it in production, straight up or with a postprocessor. Why? First colorspace can describe colors beyond the typical sRGB gamut, so on hardware that supports a wider gamut you can use `okclh()` to make colors you haven't been able to make before. Second, like `hsl()`, the definition of colors is more intuitive, allowing you to set the lightness, chroma (similar to saturation), and hue of a color in a way that mirrors how we think about color. Unlike `hsl()`, though, the lightness of a color in `okclh()` is perceptually consistent, meaning that colors with the same lightness value will look to us to have the same lightness\u002Fdarkness no matter what hue or chroma they have.\n\n### Auto image sizes\nI wrote earlier in 2023 that auto image sizes, by the attribute `sizes=auto`, will [\"greatly simplify providing the right size native image for the target display size and resolution.\"](https:\u002F\u002Fosterman.io\u002Fcontent\u002Fauto-image-sizes-are-comingrejoice\u002F) At the time, the WHATWG had just adopted the feature in the HTML standard. Since then, the Chrome team has made progress implementing it; from what I can tell, it should be implemented behind an experimental flag in Chrome Canary soon.\n\nCurrently developers have to instruct browsers which image source is the right size\u002Fresolution to choose from a  srcset. That's because browsers need to get the image before the layout is calculated. Lazy-loaded images, however, are fetched after the page layout is rendered, so the browser ought to be able to select the best image source for the current layout, screen resolution, and (I hope)  network conditions without manual intervention. It looks like auto will be the default value, too.\n\nThat, indeed, would make for a very happy new year! üéâ ü•Ç ",snippet:"Check out the features I reached for in 2023. Major browsers have been implementing new features at a decent pace, semantic HTML elements with native methods have had some big wins, and CSS is exploding with good new syntax and features. ",tags:[{sys:{type:a,linkType:b,id:"7bxk7hUPon7KmLkEmjxXjD"}},{sys:{type:a,linkType:b,id:t}}],heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"1hackdXzGrgpx9GdCXK9ha",type:j,createdAt:u,updatedAt:u,environment:{sys:{id:e,type:a,linkType:f}},revision:i,locale:g},fields:{title:"2023 In review",description:v,file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F1hackdXzGrgpx9GdCXK9ha\u002F144e9a5547a9652bb0cecc72702b2b50\u002FDALL_E_Jan_2_Screenshot.png",details:{size:1168025,image:{width:k,height:k}},fileName:"DALL¬∑E Jan 2 Screenshot.png",contentType:m}}},slug:"2023-in-review-embracing-subgrid-less-than-dialog-greater-than-and-container"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"44eKocpLcFOCLv8PI8R92L",type:b,createdAt:"2023-01-05T02:25:19.697Z",updatedAt:"2023-01-05T21:07:02.666Z",environment:{sys:{id:e,type:a,linkType:f}},revision:8,contentType:{sys:{type:a,linkType:h,id:w}},locale:g},fields:{authors:[{sys:{type:a,linkType:b,id:l}}],title:"Christmas in Kankossa",datePublished:"2023-01-05",body:"In December 2001 I managed to get three days off from teaching to travel to Kiffa and then to Kankossa to spend Christmas with friends, far from Tintane. \n\nKiffa was a pretty large town, maybe the third largest in the country. There were restaurants and cyber caf√©s and \u003Ci lang=\"fr\"\u003Ecabines t√©l√©phoniques\u003C\u002Fi\u003E. After calling home and checking email and eating restaurant meals of \u003Ci lang=\"fr\"\u003Eyassa poulet\u003C\u002Fi\u003E and \u003Ci lang=\"fr\"\u003Ethieboudienne\u003C\u002Fi\u003E, it was time to quit Kiffa for Kankossa, about 90k south. The route was mostly unpaved, as I remember: not really a dirt track so much as a collection of tire tracks meandering through loose sand. The exact route was left to the driver's discretion.\n\n\u003Cfigure\u003E\n\n![Night drive in the desert](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F1ZkofpCghAPg3Lwwg6XiBJ\u002F9307426a239138ae254b3bee470dff6d\u002FDALL__E_2023-01-05_09.14.49.png)\n\n\u003Cfigcaption\u003E\n  I don't have any photographs from this trip, but DALLE-2 captures the spirit pretty well. Prompt: A surrealistic painting of nightime in the desert with moonlight, monochromatic palette, a 4X4 vehicle, and a Christmas tree.\n  \u003C\u002Ffigcaption\u003E\n\n\u003C\u002Ffigure\u003E\n\nThe sun set as we drove south. We stopped for evening prayers and to have some tea on the side of the route. Night fell as we got back in and the landscape took on a peaceful monochromatic glow. A long lingering twilight silhouetted gentle waves of dunes. We floated on tires deflated for travel in sand. The moon eventually rose and cast everything in soft, shallow relief, underexposed and underdeveloped. As I fell in and out of sleep, whether from tiredness or carbon monoxide I do not know, the rickety 4x4 I was in transformed into a sleigh and the sand to snow. The smell of woodsmoke from cooking fires gave me visions instead of chimneys and cold nights back home. I thought of storybook winter villages. I thought of Christmas.\n\nMy winter dreamstate dissolved when we stopped. Kankosso was dark. It had no electricity, and that was in fact part of what I was excited about. In Tintane, electricity helped me read at night but otherwise made life more frustrating. My host family‚Äîmy food family really‚Äîhad satellite TV and watched it constantly. Who can blame them? It was a luxury and neighbors would come over to watch, but for me it was a maddening waste of time. I couldn't understand it and it engrossed my companions so completely that all conversation was stifled. Al Jazeera news, weird soap operas about the crusades, and me trying to ignore it all to focus on reading or my vocabulary flash cards.\n\nIn Kankossa, the quiet was welcome. By day there was lake Kankossa  bordered abruptly by tall sand dunes. There were gardens and date groves along the water. The people were kind. By night, the sky was dark behind the Milky Way. We read by lantern light. The walls of the group house in Kankossa had graffiti from decades of Peace Corp volunteers who'd passed through before, leaving messages for their successors. It felt historical and magical.\n\nThe contrast with Tintane was stark. I'd been forming a theory about it: too big to be a village and too small to be a town, Tintane had the benefits of neither. Kankossa had the charm of a small village. I wrote about it after returning to Tintane:\n\n\u003Cblockquote\u003E\n\nDecember 29, 2001\n\nI've just returned from an extended trip to Kiffa and Kankossa. It was good. I fell in love with Kankossa: small, quiet, pretty, nice people. What more is needed?\n\nI had a lot of time to think about what had been bothering me and I think I've found some motivation to turn things around. Yes, I think Tintane is a hard site, with obstacles somehow that other sites may not have, but I will try to make the best of it. I'm sure I'll write more on it later. Now, I'm off to the market to avoid being in my room.\n\n\u003C\u002Fblockquote\u003E\n\nThe sense of optimism must have been my Christmas present that year. Like a child, I played with it for a day or two and then grew tired of it. A couple days later and I found myself exactly where I was before, venting to myself in my journals about the same old frustrations. But one realization did stick with me: I did have an especially hard site. It was a slow realization that crystallized the more I visited other volunteers throughout Mauritania. While the frustrations didn't really lessen much until I left Tintane for Aioun, at least I was beginning to blame myself less for them.\n\nAnd that truly was a gift.\n",snippet:"The contrast with Tintane was stark. I‚Äôd been forming a theory about it: too big to be a village and too small to be a town, Tintane had the benefits of neither. Kankossa had the charm of a small village.",heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"1ZkofpCghAPg3Lwwg6XiBJ",type:j,createdAt:x,updatedAt:x,environment:{sys:{id:e,type:a,linkType:f}},revision:i,locale:g},fields:{title:"Night drive in the desert",description:"A stylized surrealist painting with a monochromatic palette of black, blue, and white, presents us with nighttime in the dessert. A 4X4 vehicle sits still in the foreground. Behind it is a tall, leafless tree about four times its height. Dead perhaps. To the right of that tree is a smaller object, green, like a stunted Christmas cactus. In the background are hills or sand dunes with what look like wisps of fog or mist above. The full moon shines brightly.",file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F1ZkofpCghAPg3Lwwg6XiBJ\u002F9307426a239138ae254b3bee470dff6d\u002FDALL__E_2023-01-05_09.14.49.png",details:{size:1370542,image:{width:k,height:k}},fileName:"DALL¬∑E 2023-01-05 09.14.49.png",contentType:m}}},slug:"christmas-in-kankossa"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"486Iup6Yrwh24CbZrSONWK",type:b,createdAt:"2023-04-26T18:17:29.728Z",updatedAt:"2023-04-26T19:44:45.939Z",environment:{sys:{id:e,type:a,linkType:f}},revision:7,contentType:{sys:{type:a,linkType:h,id:y}},locale:g},fields:{title:"Interactive dashboard of Philadelphia‚Äôs post-COVID economy",workplace:{sys:{type:a,linkType:b,id:p}},link:"https:\u002F\u002Fwww.pewtrusts.org\u002Fen\u002Fresearch-and-analysis\u002Fdata-visualizations\u002F2021\u002Fpew-dashboard-tracks-philadelphias-economic-recovery-and-growth-in-the-age-of-covid",datePublished:"2022-05-03",body:"This was one of my last projects while at Pew and one of the hardest. While most of my projects were purely front-end pursuits with static data, this dashboard required a back-end database, serverless functions, and some data preprocessing in Node.\n\n![Philly dashboard](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png)\n\nThe goal was to chart Philadelphia's economic recovery coming out of the Covid pandemic. My colleagues on the research side secured a large handful of data sources, some public and some proprietary, to make it possible. They handed off to me mostly clean datasets for each indicator:\n\n* delinquency on bills\n* financial stability\n* balance on credit accounts\n* work locations\n* sales by sector\n* bankruptcy filings\n* jobs by sector\n* jobs by establishment size\n* hourly wages by sector\n\n## The back end and preprocessing\nI needed a database to store this data in. The datasets were too big to wrangle on the client side, and I had to keep potentially identifiable individual data points from being exposed to the front end. (For the same reason, the display of some data is redacted if the number of businesses making up the average falls below a threshold because of the filters applied.) The database could have been anything; I ended up using MS Azure Cosmos DB.\n\nAll the datasets are put into the dataset (created or updated) by API using some NodeJS scripts. The first three datasets, proprietary data from Experian, are sent to the database basically as-is with the addition of precalculated aggregates. When filters are applied, a serverless function queries the database for matching entries and recalculates the result on the fly. Other datasets have far fewer filters available; each filter option is precalculated before being added to the database.\n## The front end\nI built the front end with Svelte wrapped up by Webpack. There's some D3 in there. The build step prerenders the page so that the static dashboard appears immediately on page load. JavaScript then rehydrates the app and provides the interactivity‚Äîgood for core web vitals and SEO.\n",snippet:"This project to chart Philadelphia's economic recovery was one of my last while at Pew, and one of the hardest.",tags:[{sys:{type:a,linkType:b,id:"3h8rU5x8HRGc67rBgE4jjm"}},{sys:{type:a,linkType:b,id:"3AIjGHsEBIU2L5LSAhDYZG"}}],heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"17tItciHDEUKPnbdjjppF5",type:j,createdAt:z,updatedAt:z,environment:{sys:{id:e,type:a,linkType:f}},revision:i,locale:g},fields:{title:"Philly dashboard",description:"Data dashboard showing zip-code map and line graphs for three economic indicators: delinquency on bills, financial stability, and balance on credit accounts.",file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png",details:{size:353232,image:{width:1500,height:1065}},fileName:"philly-dashboard.png",contentType:m}}}}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"27n0QDqqMFwDxstDwS8qJx",type:b,createdAt:"2023-01-13T01:49:32.802Z",updatedAt:"2023-02-22T21:22:31.999Z",environment:{sys:{id:e,type:a,linkType:f}},revision:13,contentType:{sys:{type:a,linkType:h,id:s}},locale:g},fields:{authors:[{sys:{type:a,linkType:b,id:l}}],title:"CSS container queries are here!",datePublished:"2023-01-12",dateUpdated:"2023-02-16",body:"\u003Caside class=\"update\"\u003E\n  Support for container queries landed in Firefox on February 13, 2023.\n\u003C\u002Faside\u003E\n\nIt's a good time to be a web developer. The excesses of client-side mania (mea culpa) are giving way to a rediscovery of server-side rendering (which of course never went anywhere). Build-and-deploy services like Vercel, Amplify, Azure Static Web Apps, and a host of others make it easy for small teams or one lone freelancer to set up fully featured websites with edge functions, caching, APIs, and smart image delivery. And with recent advances, especially in CSS, working on the [front of the front end](https:\u002F\u002Fbradfrost.com\u002Fblog\u002Fpost\u002Ffront-of-the-front-end-and-back-of-the-front-end-web-development\u002F) is full of new possibilities and productivity gains.\n\nCSS, it turns out, [really is awesome](https:\u002F\u002Fduckduckgo.com\u002F?t=ffab&q=css+is+awesome&iax=images&ia=images).\n\n## Container queries, finally!\n\nOne of the features I and others have been most eagerly awaiting is container queries. They will make reusing responsive components in different contexts much easier. Grid and flexbox layouts have already lessened the need to use media queries to make layouts responsive to screen size. They are [*intrinsically* responsive](https:\u002F\u002Ftalks.jensimmons.com\u002F15TjNW), wrapping rows and columns based on container size without the need to instruct browsers at exactly what screen width to make the change.\n\nThat's great, but they haven't entirely eliminated my use of media queries. There is still a need to employ them to, for instance, hide an element within a grid at certain screen sizes. Here's a recent example from my work rebuilding the timeline-of-events pages for the [Holocaust Encyclopedia](https:\u002F\u002Fencyclopedia.ushmm.org\u002Fcontent\u002Fen\u002Ftimeline\u002Fholocaust).\n\n\u003Cdiv class=\"fx fx-wrap ai-e\"\u003E\n\u003Cfigure class=\"half\"\u003E\n\n![Timeline events without description shown](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F5c3gZQDg7YwjqWwPNRZybi\u002F34d67b517736ba14d35a77aa1e242f43\u002FScreenshot_2023-01-11_at_8.56.40_AM.png)\n\n \u003Cfigcaption\u003EOn small screens less than 500px wide, no description is shown.\u003C\u002Ffigcaption\u003E\n    \u003C\u002Ffigure\u003E\n\n\u003Cfigure class=\"half\"\u003E\n\n![Timeline event with description shown](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F2zrWLBAT2ahMA0tLtIXEsu\u002F17eab9d573cec6fb7b263f5b092dab57\u002FScreenshot_2023-01-11_at_8.55.12_AM.png)\n\n\u003Cfigcaption\u003EOn screens at least 500px wide, a media query ensures that the description is shown.\u003C\u002Ffigcaption\u003E\n\u003C\u002Ffigure\u003E\n\u003C\u002Fdiv\u003E\n\nThis is the HTML for one of the content cards, each marked up as an `\u003Carticle\u003E`:\n\n\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fostermanj\u002Fb7b7b55bfb8483e4599dbf82f8690632\" class=\"embedly-card\" data-card-width=\"100%\" data-card-controls=\"0\"\u003EEmbedded content: https:\u002F\u002Fgist.github.com\u002Fostermanj\u002Fb7b7b55bfb8483e4599dbf82f8690632\u003C\u002Fa\u003E\n\nThe CSS makes each event a flexbox with two flex-item children: the container for the image and the container for the text. The relative size of the two children is handled intrinsically using the `flex-grow` css property‚Äîno need for media queries there.\tBut we wanted to show the description of the event only on screens larger than 500px wide, and that required a media query:\n\n\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fostermanj\u002F48a62a2cceebab82992e8fb8ce5b3703\" class=\"embedly-card\" data-card-width=\"100%\" data-card-controls=\"0\"\u003EEmbedded content: https:\u002F\u002Fgist.github.com\u002Fostermanj\u002F48a62a2cceebab82992e8fb8ce5b3703\u003C\u002Fa\u003E\n\nWhat that means, though, is that the list of events isn't 100% reusable in other contexts. Say I needed to put the list of events in a sidebar that was 320px wide? If the viewport were at least 500px wide, the event description would show even though the component would be much narrower than the threshold. The logic should be based on the size of the component, not the size of the screen. That's what container queries make possible.\n\n## Simple syntax\n\nThe syntax is pretty simple and builds what we already know from media queries. See the [MDN article](https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Container_Queries) for a full description. \n\nChanging my example to use container queries would only require changing to CSS to declare a containment context on the `article` element, giving it a `container-type` and `container-name` using the `container` shorthand syntax:\n\n\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fostermanj\u002Fd948427303b301a896bf153b30c934f5\" class=\"embedly-card\" data-card-width=\"100%\" data-card-controls=\"0\"\u003EEmbedded content: https:\u002F\u002Fgist.github.com\u002Fostermanj\u002Fd948427303b301a896bf153b30c934f5\u003C\u002Fa\u003E\n\nAnd then modify the media query from above to be a container query instead:\n\n\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fostermanj\u002F1fca89adfbd045bb9a9e948b3b157293\" class=\"embedly-card\" data-card-width=\"100%\" data-card-controls=\"0\"\u003EEmbedded content: https:\u002F\u002Fgist.github.com\u002Fostermanj\u002F1fca89adfbd045bb9a9e948b3b157293\u003C\u002Fa\u003E\n\nPretty great! Now displaying or hiding the description depends on the size of the container rather than the viewport. That means the component can be used elsewhere without having to redefine at what screen sizes the description should appear. Code it once and use it everywhere.\n\n## Use them now?\n\nI'll be using container queries from here on out in personal projects soon, I hope, in work projects for production.\n\nContainer queries are landing in browsers and, at the time I'm writing this, have about 75% browser support globally. Firefox, notably, does not yet support them in the stable release but does in the nightly release. Coverage should be good enough now or very soon to use them in a progressive-enhancement sort of way, when you can accept that some browsers won't abide.\n\nThere is a [JavaScript polyfill](https:\u002F\u002Fgithub.com\u002FGoogleChromeLabs\u002Fcontainer-query-polyfill) available that simply works. Please read its docs before using.\n",snippet:"Container queries are coming, and they will make reusing responsive components in different contexts much easier.",tags:[{sys:{type:a,linkType:b,id:t}},{sys:{type:a,linkType:b,id:"4THQ9OOeBdfmo5fzHu6mIr"}}],heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"fMsWEAYYlWL7oGyXprIjF",type:j,createdAt:A,updatedAt:A,environment:{sys:{id:e,type:a,linkType:f}},revision:i,locale:g},fields:{title:"Containers",description:"A large stack of shipping containers on a ship or at harbor.",file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002FfMsWEAYYlWL7oGyXprIjF\u002Fe98ffee9cd68da2575ca39be60aae7cc\u002F15405674883_2c892ea4e2_b.jpg",details:{size:273916,image:{width:k,height:682}},fileName:"15405674883_2c892ea4e2_b.jpg",contentType:B}}},slug:"css-container-queries-are-here"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"7iMVRcoiiruBQBLF72GDP6",type:b,createdAt:"2022-08-16T18:29:35.479Z",updatedAt:"2023-04-27T14:08:10.443Z",environment:{sys:{id:e,type:a,linkType:f}},revision:C,contentType:{sys:{type:a,linkType:h,id:y}},locale:g},fields:{title:"Broadband policy explorer: data tool to find state laws about broadband",workplace:{sys:{type:a,linkType:b,id:p}},repository:"https:\u002F\u002Fgithub.com\u002Fostermanj\u002Fbroadband",link:"https:\u002F\u002Fwww.pewtrusts.org\u002Fen\u002Fresearch-and-analysis\u002Fdata-visualizations\u002F2019\u002Fstate-broadband-policy-explorer",datePublished:"2019-07-31",body:"![data dashborad with small US map and listings of broadband policies in Alabama](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F5mTxXR58LSPMc8ZsKyGWkE\u002F83771f323bcd5c06dcefd42ddc44369d\u002FScreen_Shot_2022-08-16_at_2.27.04_PM.png)",snippet:"Explore broadband programs, competition and regulation, definitions, funding and financing, and infrastructure access.",tags:[{sys:{type:a,linkType:b,id:"1Y861tqBGe05OH38xzGc6W"}}],heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"5mTxXR58LSPMc8ZsKyGWkE",type:j,createdAt:D,updatedAt:D,environment:{sys:{id:e,type:a,linkType:f}},revision:i,locale:g},fields:{title:"data dashborad with small US map and listings of broadband policies in Alabama",description:v,file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F5mTxXR58LSPMc8ZsKyGWkE\u002F83771f323bcd5c06dcefd42ddc44369d\u002FScreen_Shot_2022-08-16_at_2.27.04_PM.png",details:{size:414571,image:{width:2050,height:1584}},fileName:"Screen Shot 2022-08-16 at 2.27.04 PM.png",contentType:m}}}}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"76mgP0Oty0bY2ReZxnFmPg",type:b,createdAt:"2023-04-06T17:19:03.296Z",updatedAt:"2023-04-27T14:07:38.205Z",environment:{sys:{id:e,type:a,linkType:f}},revision:9,contentType:{sys:{type:a,linkType:h,id:w}},locale:g},fields:{authors:[{sys:{type:a,linkType:b,id:l}}],title:"Peace Corps in a time of war",subtitle:"The US bombs Iraq and things get weird",datePublished:"2023-04-06",body:"In early 2003, the drumbeat of a war was reaching a fever pitch and things in Mauritania were getting tense. We'd been preparing mentally to be evacuated ever since September 11. In the weeks just after the attacks, when we were all huddled together at the \u003Ci lang=\"fr\"\u003Emaison\u003C\u002Fi\u003E in Nouakchott, a fellow volunteer known for histrionics (you know who you are! lol) burst into a room where we were playing mafia or some such thing and said, \"I just heard from the bureau! The US has bombed Damascus and we've been ordered to evacuate. Time to pack your bags!\"\n\nWe all believed him. That was exactly how it was going to happen.\n\nEighteen months later, it did happen, only it wasn't Damascus getting bombed but Baghdad. In the end we weren't evacuated, but I believe we came close. Things certainly got a little wild.\n\nWe all thought we'd be sent home once the war started, and we'd been waiting for it for a long time. The BBC World Service reported each fractional step closer to war for months. That was my early-21st-century version of doom scrolling: breaking out my shortwave radio every hour on the hour to take part in the slow build toward catastrophe. While we expected protests borne of Arab solidarity and latent anti-Americanism, the only aggression I witnessed was an old lady cursing me and spitting at my feet. Was that because of Iraq? Hard to know.\n\nNonetheless, on March 18 armed local police started guarding our homes in Aioun. The next day, when the bombing began, the police started following us around town, which made visiting people or going to the market a little awkward. It didn't last long. The head of police for the region or town decided to consolidate all the foreigners together. The Germans all went to a German expat's place; the French and Americans all went to a French expat's. Believe me, there were worse places to be. We already knew his place very well. We'd gather there for dinner parties, to swim in his pool, to drink and smoke cigarettes, and to watch TV. It was a decadent, epicurean oasis.\n\nWe were in our decadent house arrest for nearly a week when things got weird and uncanny. At first, it was just us four Peace Corps volunteers and one of the French volunteers, enjoying the hospitality of our gracious host. Then another French volunteer showed up. Then a French guy on a motorcycle showed up. Then two Swedish tourists showed up. Basically, any non-German foreigner passing through Aioun‚Äîusually a rare event!‚Äîwas put under house arrest with us. We nine uninvited houseguests lived together for a few days, vying for sleeping space, sharing wine, hoping to wait out the threat so that we could go our various ways.\n\nOur momentary life of luxury wasn't exactly without care. In general, I was ready to go. I'd basically completed my service. But specifically, there were a lot of things I hadn't done. I didn't have many souvenirs; I had no pictures of my students; I had had no closure with anyone I would have wanted closure with. Despite the pool and the booze and other comforts of my enclosure, it was stressful to see my service potentially end with such a whimper. Plus one of the French guys came down with malaria, left to go to the hospital, and came back later, IV bag in tow, to sleep off his fever for a few days. Fun times.\n\nAfter four days the Wali decided that the Americans should go to Nouakchott. He called the bureau to ask them to get us out of Aioun, and they agreed to either charter a plane or have us get on the next commercial flight to the capital. For some reason the plane never showed up, and it was a few days later before a Peace Corp vehicle arrived with its logos long ago removed. We were to leave town at 4:30 the next morning to avoid trouble.\n\nMy memory of what happened next is dim. My journal skips 10 days. My next entry is a largely illegible poem about doubt, confusion, and frustration rising from a romantic pursuit, which means that we volunteers were together again in Nouakchott. A few days later the option was out: for the second time during my service (the first was after September 11) any volunteer who wanted to leave Mauritania (early terminate) could do so without repercussion and perhaps continue their service elsewhere. At that point I only had less than two months to go, so I stayed.\n\nI returned to Aioun around April 22. Protests and threats in response to the invasion of Iraq never amounted to much. It was good to be back, to get back to my routine and to teaching, and to trying to do Peace Corps in a time of war. I don't know what my students did while I was gone, whether a fellow teacher covered for me or if the kids just had some extra free time, but there was some extra writing on the wall, caricatures of George Bush and graffiti calling him a dog. I didn't disagree but I pretended not to notice.\n\n\u003Cfigure\u003E\n\n![Bush dog](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F1MT1PlfQq4QkmHku0lDud8\u002Fa9357c86a01a4dce233d6453ea3cb58a\u002Fbush-dog_r.jpg)\n\n  \u003Cfigcaption\u003EI returned to Aioun to some new graffiti in the classroom.\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\n\u003Cfigure\u003E\n\n![Bush dog](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F6wGHos2mAVj6mDUSACruZC\u002F95c4be2425a5920a2917910cf95c89d2\u002Fbush-dog2_r.jpg)\n\n  \u003Cfigcaption\u003EBush is \u003Ci lang=\"fr\"\u003Eterroriste\u003C\u002Fi\u003E.\u003C\u002Ffigcaption\u003E\n  \u003C\u002Ffigure\u003E\n\nThe next weeks‚Äîmy last weeks‚Äîwent quickly. I witnessed no further aggression or protests. My students were nice and thankful that I tried to teach some of them English. They, like most people, could like a person and disdain their government without suffering cognitive dissonance. Perhaps my presence tempered some ill will toward my country. Perhaps it heightened it. I don't know.\n\nEither way, on May 31, 2003, my mission really was accomplished.\n\n\u003Cblockquote\u003E\nMay 31, 2003\n\nI just woke up: my last full day in Aioun. It rained last night, the first thing past a drizzle for the season. I woke from the wind and saw nothing in the sky. An ominous dark shielding the usual night glow. The possibility of rain didn't cross my mind; I fell back asleep to awake sometime later to the drops on my forehead. Rain.\n\nAnd it smelled like rain, too, like earth, like wet cereal.\n\nThe rain grew steady and the wind was blowing into the porch. I had to move all the way inside where it was too warm to properly sleep. I drifted in and out with new visions each time I closed my eyes. Flashlights in the yard, a woman in bed, my homecoming back in the States.\n\nI awaken to quiet. The rain has slowed. I move back out to the porch where the breeze is pleasant and cool. It's dark, nearly completely so, and I go to fill my buckets for bath and drinking water. It must be near 4 a.m. The water comes pretty strongly.\n\nReplete, I stumble back to my matela and collapse. Soon the sun comes. Then the flies, then the goats, and I have no choice but to begin my last day in Aioun.\n\u003C\u002Fblockquote\u003E\n\n![Mission accomplished](\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F4LKNIB7XyC4933wqoGS57J\u002F17c242bdfae3b53e512b49df3e296dd5\u002Fclassroom_mission-accomplished.jpg)",snippet:"In early 2003, the drumbeat of a war was reaching a fever pitch and things in Mauritania were getting tense. ",heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"4LKNIB7XyC4933wqoGS57J",type:j,createdAt:E,updatedAt:E,environment:{sys:{id:e,type:a,linkType:f}},revision:i,locale:g},fields:{title:"Mission accomplished",description:"Altered photo. \"Mission Accomplished\" banner from President Bush's aircraft carrier speech superimposed on original photo. John is standing at the head of a classroom facing the viewer. Behind him is a dusty chalkboard nearly the length of the wall. In front of him stand several bench-style desks, for two kids each. The walls are dirty; paint is chipping off surfaces; the shutters in the window are blocking the sunlight except where they are broken.",file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F4LKNIB7XyC4933wqoGS57J\u002F17c242bdfae3b53e512b49df3e296dd5\u002Fclassroom_mission-accomplished.jpg",details:{size:1870273,image:{width:1480,height:993}},fileName:"classroom_mission-accomplished.jpg",contentType:B}}},slug:"peace-corps-in-a-time-of-war"}}],featuredWorkExperience:[{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"i4wC2707crrr3J7VA6sjf",type:b,createdAt:F,updatedAt:F,environment:{sys:{id:e,type:a,linkType:f}},revision:i,contentType:{sys:{type:a,linkType:h,id:n}},locale:g},fields:{title:"Front-End Developer",workPlace:{sys:{type:a,linkType:b,id:"5oOuYjZ2En7UsYZddeN4xq"}},startDate:"2022-05-31",workPlaceName:"US Holocaust Memorial Museum",url:"https:\u002F\u002Fwww.ushmm.org"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"5ipJqnKVDNDSxKnq3Q2Onc",type:b,createdAt:"2022-08-11T20:25:50.709Z",updatedAt:"2022-08-12T12:24:21.930Z",environment:{sys:{id:e,type:a,linkType:f}},revision:C,contentType:{sys:{type:a,linkType:h,id:n}},locale:g},fields:{title:"Principal Associate (Web Developer)",workPlace:{sys:{type:a,linkType:b,id:p}},startDate:"2018-08-01",endDate:"2022-05-20",workPlaceName:"The Pew Charitable Trusts",url:"https:\u002F\u002Fwww.pewtrusts.org"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"6xrmlRLBZ2518GEx0Wu3Aq",type:b,createdAt:G,updatedAt:G,environment:{sys:{id:e,type:a,linkType:f}},revision:i,contentType:{sys:{type:a,linkType:h,id:n}},locale:g},fields:{title:"Communications Specialist (part-time)",workPlace:{sys:{type:a,linkType:b,id:"2cuGeH3s2kAjIlVcvCwldo"}},startDate:"2017-12-01",endDate:"2018-08-17",workPlaceName:"Resources for the Future",url:"https:\u002F\u002Fwww.rff.org"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:c,id:d}},id:"1dc27YRSkI9JDeXZFRdp6q",type:b,createdAt:H,updatedAt:H,environment:{sys:{id:e,type:a,linkType:f}},revision:i,contentType:{sys:{type:a,linkType:h,id:n}},locale:g},fields:{title:"Director of Digital Communications (and previous titles)",workPlace:{sys:{type:a,linkType:b,id:"3uOA1G8GrWndoQSTvgh7WN"}},startDate:"2008-04-01",endDate:"2016-04-15",workPlaceName:"Center for Global Development",url:"https:\u002F\u002Fwww.cgdev.org"}}]}},uses:{dependencies:o,params:o,parent:o,url:o}}]}}("Link","Entry","Space","3qr5d6sj491p","master","Environment","en-US","ContentType",1,"Asset",1024,"6rhv4yMoAF3cN8jyYqZSWu","image\u002Fpng","workPosition",void 0,"3XICrBnljaJmlfz9SMgtb0","data",null,"blogPost","cNdrt61TxmpGdCVqJVNYj","2024-01-02T16:09:40.691Z","","peaceCorpsPost","2023-01-05T14:29:19.478Z","project","2023-04-26T18:16:04.171Z","2023-01-13T01:48:42.934Z","image\u002Fjpeg",2,"2022-08-16T18:27:55.109Z","2023-04-06T16:13:56.650Z","2022-08-11T20:17:58.945Z","2022-08-11T20:32:23.102Z","2022-08-11T20:34:18.096Z"))