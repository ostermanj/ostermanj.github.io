window.__sveltekit_data = (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return {type:k,nodes:[l,l,{type:k,data:{title:"Interactive dashboard of Philadelphia’s post-COVID economy",workplace:{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:b,id:c}},id:"3XICrBnljaJmlfz9SMgtb0",type:g,createdAt:"2022-08-03T18:48:27.595Z",updatedAt:"2022-08-12T12:41:33.021Z",environment:{sys:{id:d,type:a,linkType:e}},publishedVersion:7,revision:3,contentType:{sys:{type:a,linkType:h,id:"workplace"}},locale:f},fields:{name:"The Pew Charitable Trusts",url:"https:\u002F\u002Fwww.pewtrusts.org"}},link:"https:\u002F\u002Fwww.pewtrusts.org\u002Fen\u002Fresearch-and-analysis\u002Fdata-visualizations\u002F2021\u002Fpew-dashboard-tracks-philadelphias-economic-recovery-and-growth-in-the-age-of-covid",datePublished:"2022-05-03",body:"\u003Cp\u003E\u003Cspan class=\"first-letter\"\u003ET\u003C\u002Fspan\u003Ehis was one of my last projects while at Pew and one of the hardest. While most of my projects were purely front-end pursuits with static data, this dashboard required a back-end database, serverless functions, and some data preprocessing in Node.\u003C\u002Fp\u003E\n\u003Cpicture\u003E\n        \u003Csource srcset=\"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=avif&w=1480&h=1051&q=30 2x, \u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=avif&w=740&h=525&q=30 1x\" type=\"image\u002Favif\" media=\"(min-width:632px)\"\u003E\n                          \u003Csource srcset=\"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=avif&w=800&h=568&q=30 2x, \u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=avif&w=400&h=284&q=30 1x\" type=\"image\u002Favif\"\u003E\u003Csource srcset=\"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=webp&w=1480&h=1051&q=30 2x, \u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=webp&w=740&h=525&q=30 1x\" type=\"image\u002Fwebp\" media=\"(min-width:632px)\"\u003E\n                          \u003Csource srcset=\"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=webp&w=800&h=568&q=30 2x, \u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png?fm=webp&w=400&h=284&q=30 1x\" type=\"image\u002Fwebp\"\u003E\n        \u003Cimg load=\"lazy\" class=\"full\" src=\"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png\" width=\"1500px\" height=\"1065px\" alt=\"Data dashboard showing zip-code map and line graphs for three economic indicators: delinquency on bills, financial stability, and balance on credit accounts.\" \u002F\u003E\n    \u003C\u002Fpicture\u003E\n\u003Cp\u003EThe goal was to chart Philadelphia’s economic recovery coming out of the Covid pandemic. My colleagues on the research side secured a large handful of data sources, some public and some proprietary, to make it possible. They handed off to me mostly clean datasets for each indicator:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Edelinquency on bills\u003C\u002Fli\u003E\n\u003Cli\u003Efinancial stability\u003C\u002Fli\u003E\n\u003Cli\u003Ebalance on credit accounts\u003C\u002Fli\u003E\n\u003Cli\u003Ework locations\u003C\u002Fli\u003E\n\u003Cli\u003Esales by sector\u003C\u002Fli\u003E\n\u003Cli\u003Ebankruptcy filings\u003C\u002Fli\u003E\n\u003Cli\u003Ejobs by sector\u003C\u002Fli\u003E\n\u003Cli\u003Ejobs by establishment size\u003C\u002Fli\u003E\n\u003Cli\u003Ehourly wages by sector\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2\u003EThe back end and preprocessing\u003C\u002Fh2\u003E\n\u003Cp\u003EI needed a database to store this data in. The datasets were too big to wrangle on the client side, and I had to keep potentially identifiable individual data points from being exposed to the front end. (For the same reason, the display of some data is redacted if the number of businesses making up the average falls below a threshold because of the filters applied.) The database could have been anything; I ended up using MS Azure Cosmos DB.\u003C\u002Fp\u003E\n\u003Cp\u003EAll the datasets are put into the dataset (created or updated) by API using some NodeJS scripts. The first three datasets, proprietary data from Experian, are sent to the database basically as-is with the addition of precalculated aggregates. When filters are applied, a serverless function queries the database for matching entries and recalculates the result on the fly. Other datasets have far fewer filters available; each filter option is precalculated before being added to the database.\u003C\u002Fp\u003E\n\u003Ch2\u003EThe front end\u003C\u002Fh2\u003E\n\u003Cp\u003EI built the front end with Svelte wrapped up by Webpack. There’s some D3 in there. The build step prerenders the page so that the static dashboard appears immediately on page load. JavaScript then rehydrates the app and provides the interactivity—good for core web vitals and SEO.\u003C\u002Fp\u003E\n",snippet:"This project to chart Philadelphia's economic recovery was one of my last while at Pew, and one of the hardest.",tags:[{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:b,id:c}},id:"3h8rU5x8HRGc67rBgE4jjm",type:g,createdAt:m,updatedAt:m,environment:{sys:{id:d,type:a,linkType:e}},publishedVersion:n,revision:i,contentType:{sys:{type:a,linkType:h,id:o}},locale:f},fields:{tag:"maps"}},{metadata:{tags:[],concepts:[]},sys:{space:{sys:{type:a,linkType:b,id:c}},id:"3AIjGHsEBIU2L5LSAhDYZG",type:g,createdAt:p,updatedAt:p,environment:{sys:{id:d,type:a,linkType:e}},publishedVersion:n,revision:i,contentType:{sys:{type:a,linkType:h,id:o}},locale:f},fields:{tag:"dataviz"}}],heroImage:{metadata:{tags:[]},sys:{space:{sys:{type:a,linkType:b,id:c}},id:"17tItciHDEUKPnbdjjppF5",type:"Asset",createdAt:q,updatedAt:q,environment:{sys:{id:d,type:a,linkType:e}},publishedVersion:14,revision:i,locale:f},fields:{title:"Philly dashboard",description:"Data dashboard showing zip-code map and line graphs for three economic indicators: delinquency on bills, financial stability, and balance on credit accounts.",file:{url:"\u002F\u002Fimages.ctfassets.net\u002F3qr5d6sj491p\u002F17tItciHDEUKPnbdjjppF5\u002Ff4a3753ac81af209d954f5bd56f1ebd5\u002Fphilly-dashboard.png",details:{size:353232,image:{width:1500,height:1065}},fileName:"philly-dashboard.png",contentType:"image\u002Fpng"}}},contentType:"project"},uses:{dependencies:j,params:["slug"],parent:j,url:j}}]}}("Link","Space","3qr5d6sj491p","master","Environment","en-US","Entry","ContentType",1,void 0,"data",null,"2022-08-16T18:06:39.050Z",2,"tag","2022-07-25T18:21:18.957Z","2023-04-26T18:16:04.171Z"))